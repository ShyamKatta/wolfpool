<div style="margin-top: 200px;" class="row">
    <input type="text" id="pricesData" value="{{resp}}">
    <div class=col-lg-12 col-sm-12 id=result >
        <table id="estimateTable" class="table table-striped table-bordered table-dark table-condensed table-hover">
            <thead>
            <tr>
                <th hidden="true"></th>
                <th>Car Type</th>
                <th>Type of Currency</th>
                <th>Minimum Amount</th>
                <th>Maximum Amount</th>
                <th>Duration</th>
                <th>Distance</th>
            </tr>
            </thead>
        </table>
    </div>
</div>

<script>
    $(document).ready(function() {
        $('#pricesData').hide();
        var prices = $('#pricesData')[0].defaultValue;
        var pricesJson = JSON.parse(prices).prices;

        for(var i=0; i<pricesJson.length; i++) {
            var item = pricesJson[i];
            var tr_str = "<tr>" +
                    "<td align='center'>" + item.localized_display_name + "</td>" +
                    "<td align='center'>" + item.currency_code + "</td>" +
                    "<td align='center'>" + item.low_estimate + "</td>" +
                    "<td align='center'>" + item.high_estimate + "</td>" +
                    "<td align='center'>" + item.duration + "</td>" +
                    "<td align='center'>" + item.distance + "</td>" +
                    "</tr>";
            $("#estimateTable").append(tr_str);
        }

            var getPrices = function () {
                return $.ajax({
                    type: "GET",
                    url: "/getPrices",
                    async: true,
                    success: function (json_data) {
                        console.log(json_data);
                        return json_data;
                    },
                    error: function (request, status) {
                        alert("Failed to fetch the prices" + status);
                    }
                });
            };
        });
</script>
